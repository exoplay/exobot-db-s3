{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///s3.js","webpack:///webpack/bootstrap 28c41cdc3e7cd8f18633","webpack:///external \"aws-sdk\"","webpack:///./src/s3.js"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_0__","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","value","d","name","getter","Object","defineProperty","configurable","enumerable","get","o","object","property","prototype","hasOwnProperty","p","s","_asyncToGenerator","fn","gen","apply","arguments","Promise","resolve","reject","step","key","arg","info","error","done","then","err","readS3","region","accessKeyId","secretAccessKey","bucket","createBucket","length","undefined","_ref","regeneratorRuntime","mark","_callee2","path","_ret","_this","wrap","_context2","prev","next","delegateYield","_callee","s3bucket","_context","createS3Bucket","__WEBPACK_IMPORTED_MODULE_0_aws_sdk___default","a","S3","params","Bucket","abrupt","v","getObject","Key","data","statusCode","Body","toString","stop","t0","_typeof","t1","console","log","_x2","writeS3","_ref2","_callee4","_ret2","_this2","_context4","_callee3","_context3","upload","_x4","_x5","__WEBPACK_IMPORTED_MODULE_0_aws_sdk__","__esModule","Symbol","iterator","obj","constructor","_ref3","_callee5","_ret3","_context5","newBucket","_x6","_x7","_x8","_x9"],"mappings":"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","file":"s3.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"aws-sdk\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"aws-sdk\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"s3.js\"] = factory(require(\"aws-sdk\"));\n\telse\n\t\troot[\"s3.js\"] = factory(root[\"aws-sdk\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"aws-sdk\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"aws-sdk\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"s3.js\"] = factory(require(\"aws-sdk\"));\n\telse\n\t\troot[\"s3.js\"] = factory(root[\"aws-sdk\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmory imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmory exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tObject.defineProperty(exports, name, {\n/******/ \t\t\tconfigurable: false,\n/******/ \t\t\tenumerable: true,\n/******/ \t\t\tget: getter\n/******/ \t\t});\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 1);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports) {\n\nmodule.exports = require(\"aws-sdk\");\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_aws_sdk__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_aws_sdk___default = __WEBPACK_IMPORTED_MODULE_0_aws_sdk__ && __WEBPACK_IMPORTED_MODULE_0_aws_sdk__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_0_aws_sdk__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_0_aws_sdk__; };\n/* harmony import */ __webpack_require__.d(__WEBPACK_IMPORTED_MODULE_0_aws_sdk___default, 'a', __WEBPACK_IMPORTED_MODULE_0_aws_sdk___default);\n/* harmony export */ exports[\"readS3\"] = readS3;/* harmony export */ exports[\"writeS3\"] = writeS3;\n/* harmony export */ __webpack_require__.d(exports, \"createS3Bucket\", function() { return createS3Bucket; });var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { return step(\"next\", value); }, function (err) { return step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\n\n\nfunction readS3(region, accessKeyId, secretAccessKey, bucket) {\n  var createBucket = arguments.length <= 4 || arguments[4] === undefined ? false : arguments[4];\n\n  return function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(path) {\n      var _this = this;\n\n      var _ret;\n\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              return _context2.delegateYield(regeneratorRuntime.mark(function _callee() {\n                var s3bucket;\n                return regeneratorRuntime.wrap(function _callee$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        if (!createBucket) {\n                          _context.next = 3;\n                          break;\n                        }\n\n                        _context.next = 3;\n                        return createS3Bucket(region, accessKeyId, secretAccessKey, bucket);\n\n                      case 3:\n                        s3bucket = new __WEBPACK_IMPORTED_MODULE_0_aws_sdk___default.a.S3({\n                          region: region,\n                          accessKeyId: accessKeyId,\n                          secretAccessKey: secretAccessKey,\n                          params: {\n                            Bucket: bucket\n                          }\n                        });\n                        return _context.abrupt('return', {\n                          v: new Promise(function (resolve, reject) {\n                            s3bucket.getObject({\n                              Bucket: bucket,\n                              Key: path\n                            }, function (err, data) {\n                              if (err && err.statusCode === 404) {\n                                return resolve('');\n                              }\n                              if (err) {\n                                return reject(err);\n                              }\n                              return resolve(data.Body.toString());\n                            });\n                          })\n                        });\n\n                      case 5:\n                      case 'end':\n                        return _context.stop();\n                    }\n                  }\n                }, _callee, _this);\n              })(), 't0', 2);\n\n            case 2:\n              _ret = _context2.t0;\n\n              if (!((typeof _ret === 'undefined' ? 'undefined' : _typeof(_ret)) === \"object\")) {\n                _context2.next = 5;\n                break;\n              }\n\n              return _context2.abrupt('return', _ret.v);\n\n            case 5:\n              _context2.next = 10;\n              break;\n\n            case 7:\n              _context2.prev = 7;\n              _context2.t1 = _context2['catch'](0);\n              console.log(_context2.t1);\n            case 10:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this, [[0, 7]]);\n    }));\n\n    return function (_x2) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n}\n\nfunction writeS3(region, accessKeyId, secretAccessKey, bucket) {\n  var createBucket = arguments.length <= 4 || arguments[4] === undefined ? false : arguments[4];\n\n  return function () {\n    var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee4(path, data) {\n      var _this2 = this;\n\n      var _ret2;\n\n      return regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.prev = 0;\n              return _context4.delegateYield(regeneratorRuntime.mark(function _callee3() {\n                var s3bucket;\n                return regeneratorRuntime.wrap(function _callee3$(_context3) {\n                  while (1) {\n                    switch (_context3.prev = _context3.next) {\n                      case 0:\n                        if (!createBucket) {\n                          _context3.next = 3;\n                          break;\n                        }\n\n                        _context3.next = 3;\n                        return createS3Bucket(region, accessKeyId, secretAccessKey, bucket);\n\n                      case 3:\n                        s3bucket = new __WEBPACK_IMPORTED_MODULE_0_aws_sdk___default.a.S3({\n                          region: region,\n                          accessKeyId: accessKeyId,\n                          secretAccessKey: secretAccessKey,\n                          params: {\n                            Bucket: bucket,\n                            Key: path\n                          }\n                        });\n                        return _context3.abrupt('return', {\n                          v: new Promise(function (resolve, reject) {\n                            s3bucket.upload({ Body: data }, function (err, data) {\n                              if (err) {\n                                return reject(err);\n                              }\n                              resolve(data);\n                            });\n                          })\n                        });\n\n                      case 5:\n                      case 'end':\n                        return _context3.stop();\n                    }\n                  }\n                }, _callee3, _this2);\n              })(), 't0', 2);\n\n            case 2:\n              _ret2 = _context4.t0;\n\n              if (!((typeof _ret2 === 'undefined' ? 'undefined' : _typeof(_ret2)) === \"object\")) {\n                _context4.next = 5;\n                break;\n              }\n\n              return _context4.abrupt('return', _ret2.v);\n\n            case 5:\n              _context4.next = 10;\n              break;\n\n            case 7:\n              _context4.prev = 7;\n              _context4.t1 = _context4['catch'](0);\n              console.log(_context4.t1);\n            case 10:\n            case 'end':\n              return _context4.stop();\n          }\n        }\n      }, _callee4, this, [[0, 7]]);\n    }));\n\n    return function (_x4, _x5) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n}\n\nvar createS3Bucket = function () {\n  var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee5(region, accessKeyId, secretAccessKey, bucket) {\n    var _ret3;\n\n    return regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.prev = 0;\n\n            _ret3 = function () {\n              var newBucket = new __WEBPACK_IMPORTED_MODULE_0_aws_sdk___default.a.S3({\n                region: region,\n                accessKeyId: accessKeyId,\n                secretAccessKey: secretAccessKey,\n                params: {\n                  Bucket: bucket\n                }\n              });\n\n              return {\n                v: new Promise(function (resolve) {\n                  return newBucket.createBucket(resolve);\n                })\n              };\n            }();\n\n            if (!((typeof _ret3 === 'undefined' ? 'undefined' : _typeof(_ret3)) === \"object\")) {\n              _context5.next = 4;\n              break;\n            }\n\n            return _context5.abrupt('return', _ret3.v);\n\n          case 4:\n            _context5.next = 9;\n            break;\n\n          case 6:\n            _context5.prev = 6;\n            _context5.t0 = _context5['catch'](0);\n            console.log(_context5.t0);\n          case 9:\n          case 'end':\n            return _context5.stop();\n        }\n      }\n    }, _callee5, this, [[0, 6]]);\n  }));\n\n  return function createS3Bucket(_x6, _x7, _x8, _x9) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\n/***/ }\n/******/ ])\n});\n;\n\n\n// WEBPACK FOOTER //\n// s3.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmory imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmory exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tObject.defineProperty(exports, name, {\n \t\t\tconfigurable: false,\n \t\t\tenumerable: true,\n \t\t\tget: getter\n \t\t});\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 28c41cdc3e7cd8f18633","module.exports = require(\"aws-sdk\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"aws-sdk\"\n// module id = 0\n// module chunks = 0","import AWS from 'aws-sdk';\n\nexport function readS3 (region, accessKeyId, secretAccessKey, bucket, createBucket=false) {\n  return async function (path) {\n    try {\n      if (createBucket) {\n        await createS3Bucket(region, accessKeyId, secretAccessKey, bucket);\n      }\n\n      const s3bucket = new AWS.S3({\n        region,\n        accessKeyId,\n        secretAccessKey,\n        params: {\n          Bucket: bucket,\n        },\n      });\n\n      return new Promise((resolve, reject) => {\n        s3bucket.getObject({\n          Bucket: bucket,\n          Key: path,\n        }, (err, data) => {\n          if (err && err.statusCode === 404) { return resolve (''); }\n          if (err) { return reject(err); }\n          return resolve(data.Body.toString());\n        });\n      });\n    } catch (e) { console.log(e); }\n  };\n}\n\nexport function writeS3 (region, accessKeyId, secretAccessKey, bucket, createBucket=false) {\n  return async function (path, data) {\n    try {\n      if (createBucket) {\n        await createS3Bucket(region, accessKeyId, secretAccessKey, bucket);\n      }\n\n      const s3bucket = new AWS.S3({\n        region,\n        accessKeyId,\n        secretAccessKey,\n        params: {\n          Bucket: bucket,\n          Key: path,\n        },\n      });\n\n      return new Promise((resolve, reject) => {\n        s3bucket.upload({ Body: data }, (err, data) => {\n          if (err) { return reject(err); }\n          resolve(data);\n        });\n      });\n    } catch(e) { console.log(e); }\n  };\n}\n\nexport async function createS3Bucket (region, accessKeyId, secretAccessKey, bucket) {\n  try {\n    const newBucket = new AWS.S3({\n      region,\n      accessKeyId,\n      secretAccessKey,\n      params: {\n        Bucket: bucket,\n      },\n    });\n\n    return new Promise(resolve => newBucket.createBucket(resolve));\n  } catch(e) { console.log(e); }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/s3.js"],"sourceRoot":""}